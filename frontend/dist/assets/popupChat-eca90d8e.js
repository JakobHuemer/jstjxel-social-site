import"./modulepreload-polyfill-3cfb730f.js";import{S as m}from"./socket-manager-8af1fd77.js";import{e as p}from"./index-1d60d822.js";let r=new m(["twitch-message","tiktok-event"]);r.on("twitch-message",e=>{d(e)});r.on("tiktok-event",e=>{switch(e.eventData.timestamp=e.timestamp,e.eventType){case"chat":g(e.eventData);break;default:console.log("Unknown event type:",e.eventType);break}});function d(e){let t=document.querySelector(".chat-container"),n=t.scrollTop+t.clientHeight+50>=t.scrollHeight;e.timestamp=`${String(e.timestamp.getHours()).padStart(2,"0")}:${String(e.timestamp.getMinutes()).padStart(2,"0")}`;let a=`<div class="twitch-message"> <span class="timestamp">${e.timestamp}</span> <span class="author" style="color: ${e.color}">${p(e.author)}</span> <span class="message">${p(e.message)}</span></div>`;t.innerHTML+=a,n&&(t.scrollTop=t.scrollHeight)}function g(e){let t=document.querySelector(".chat-container"),n=t.scrollTop+t.clientHeight+50>=t.scrollHeight,a=document.createElement("img");a.classList.add("tiktok-logo"),a.src="https://www.edigitalagency.com.au/wp-content/uploads/TikTok-icon-glyph.png";let i=document.createElement("span");i.classList.add("timestamp"),i.innerHTML=`${String(e.timestamp.getHours()).padStart(2,"0")}:${String(e.timestamp.getMinutes()).padStart(2,"0")}`;let l=document.createElement("img");l.classList.add("profile-picture"),l.src=e.profilePictureUrl;let o=document.createElement("span");o.classList.add("author"),o.innerHTML=e.nickname;let c=document.createElement("span");c.classList.add("message"),c.innerHTML=" "+e.comment;let s=document.createElement("div");s.classList.add("tiktok-message"),s.appendChild(a),s.appendChild(i),s.appendChild(l),s.appendChild(o),s.appendChild(c),t.appendChild(s),n&&(t.scrollTop=t.scrollHeight)}
