import"./modulepreload-polyfill-3cfb730f.js";import{S as m}from"./socket-manager-8522cf7e.js";import{e as p}from"./index-1d60d822.js";let r=new m(["twitch-message","tiktok-event","twitch-chat-notice"]);r.on("twitch-message",e=>{d(e)});r.on("tiktok-event",e=>{switch(e.eventData.timestamp=e.timestamp,e.eventType){case"chat":h(e.eventData);break;default:console.log("Unknown event type:",e.eventType);break}});r.on("twitch-chat-notice",e=>{u(e)});function d(e){let t=document.querySelector(".chat-container"),l=t.scrollTop+t.clientHeight+50>=t.scrollHeight;e.timestamp=`${String(e.timestamp.getHours()).padStart(2,"0")}:${String(e.timestamp.getMinutes()).padStart(2,"0")}`;let n=`<div class="twitch-message"> <span class="timestamp">${e.timestamp}</span> <span class="author" style="color: ${e.color}">${p(e.author)}</span> <span class="message">${p(e.message)}</span></div>`;t.innerHTML+=n,l&&(t.scrollTop=t.scrollHeight)}function h(e){let t=document.querySelector(".chat-container"),l=t.scrollTop+t.clientHeight+50>=t.scrollHeight,n=document.createElement("img");n.classList.add("tiktok-logo"),n.src="https://www.edigitalagency.com.au/wp-content/uploads/TikTok-icon-glyph.png";let s=document.createElement("span");s.classList.add("timestamp"),s.innerHTML=`${String(e.timestamp.getHours()).padStart(2,"0")}:${String(e.timestamp.getMinutes()).padStart(2,"0")}`;let i=document.createElement("img");i.classList.add("profile-picture"),i.src=e.profilePictureUrl;let o=document.createElement("span");o.classList.add("author"),o.innerHTML=e.nickname;let c=document.createElement("span");c.classList.add("message"),c.innerHTML=" "+e.comment;let a=document.createElement("div");a.classList.add("tiktok-message"),a.appendChild(n),a.appendChild(s),a.appendChild(i),a.appendChild(o),a.appendChild(c),t.appendChild(a),l&&(t.scrollTop=t.scrollHeight)}function u(e){let t=document.querySelector(".chat-container"),l=document.createElement("div");l.classList.add("twitch-chat-notice");for(let n=0;n<e.length;n++){const s=e[n];let i=document.createElement("span");i.textContent=s.text,i.style.color=s.color,s.bold&&i.classList.add("bold"),s.underlined&&i.classList.add("underlined");let o=document.createElement("span");o.innerHTML=" ",n!==e.length&&l.appendChild(o),l.appendChild(i)}t.appendChild(l)}
